(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-424a34d0"],{1276:function(e,t,i){"use strict";var n=i("2ba4"),a=i("c65b"),r=i("e330"),s=i("d784"),o=i("825a"),l=i("7234"),c=i("44e7"),u=i("1d80"),d=i("4840"),h=i("8aa5"),p=i("50c4"),f=i("577e"),v=i("dc4a"),g=i("4dae"),m=i("14c3"),w=i("9263"),b=i("9f7f"),x=i("d039"),y=b.UNSUPPORTED_Y,C=4294967295,P=Math.min,k=[].push,_=r(/./.exec),U=r(k),O=r("".slice),q=!x((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));s("split",(function(e,t,i){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var r=f(u(this)),s=void 0===i?C:i>>>0;if(0===s)return[];if(void 0===e)return[r];if(!c(e))return a(t,r,e,s);var o,l,d,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,m=new RegExp(e.source,p+"g");while(o=a(w,m,r)){if(l=m.lastIndex,l>v&&(U(h,O(r,v,o.index)),o.length>1&&o.index<r.length&&n(k,h,g(o,1)),d=o[0].length,v=l,h.length>=s))break;m.lastIndex===o.index&&m.lastIndex++}return v===r.length?!d&&_(m,"")||U(h,""):U(h,O(r,v)),h.length>s?g(h,0,s):h}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:a(t,this,e,i)}:t,[function(t,i){var n=u(this),s=l(t)?void 0:v(t,e);return s?a(s,t,n,i):a(r,f(n),t,i)},function(e,n){var a=o(this),s=f(e),l=i(r,a,s,n,r!==t);if(l.done)return l.value;var c=d(a,RegExp),u=a.unicode,v=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(y?"g":"y"),g=new c(y?"^(?:"+a.source+")":a,v),w=void 0===n?C:n>>>0;if(0===w)return[];if(0===s.length)return null===m(g,s)?[s]:[];var b=0,x=0,k=[];while(x<s.length){g.lastIndex=y?0:x;var _,q=m(g,y?O(s,x):s);if(null===q||(_=P(p(g.lastIndex+(y?x:0)),s.length))===b)x=h(s,x,u);else{if(U(k,O(s,b,x)),k.length===w)return k;for(var j=1;j<=q.length-1;j++)if(U(k,q[j]),k.length===w)return k;x=b=_}}return U(k,O(s,b)),k}]}),!q,y)},"56d3":function(e,t,i){"use strict";i("e694")},"67c5":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"preview",attrs:{"element-loading-text":"资源载入中..."}},[e.isAudios(e.name)?n("div",{staticClass:"file-show is-audios"},[n("div",{staticClass:"file-content"},[n("div",{staticClass:"file-source"},[n("audios",{staticClass:"file-audios",attrs:{props:e.getAudiosProps(e.currentFile)}})],1),e._v(" "),n("div",{staticClass:"file-handle"},[n("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.download(t)}}},[e._v("下载")])],1)])]):e.isVideo(e.name)?n("div",{staticClass:"file-show is-video"},[n("div",{staticClass:"file-content"},[n("div",{staticClass:"file-source"},[n("wk-video",{staticClass:"file-video",attrs:{props:e.getAudiosProps(e.currentFile)}})],1),e._v(" "),n("div",{staticClass:"file-handle"},[n("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.download(t)}}},[e._v("下载")])],1)])]):e.canPreview?e._e():n("el-empty",{staticStyle:{"padding-top":"75px"},attrs:{"image-size":300,image:i("cb89"),description:"该文件类型系统暂时不支持预览"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.download}},[e._v("下载文件")])],1),e._v(" "),e.canPreview&&e.path&&e.iframePath?n("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.iframePath,frameborder:"0"}}):e._e()],1)},a=[],r=(i("b0c0"),i("ac1f"),i("1276"),i("99af"),i("5319"),i("caad"),i("2532"),i("2934")),s=i("b5b9"),o=i("b775"),l=i("c9d9"),c=i("ed08"),u=i("b988"),d=i("acee"),h={name:"Perview",components:{Audios:u["a"],WkVideo:d["a"]},props:{path:String,name:String},data:function(){return{loading:!1,iframePath:""}},computed:{showType:function(){return this.path?"component":"page"},canPreview:function(){var e=this.name||this.$route.query.name;return Object(c["a"])(e)}},watch:{},created:function(){var e=this.path||this.$route.query.path;e&&this.canPreview&&this.requestFileUrl(e)},mounted:function(){},beforeDestroy:function(){},methods:{requestFileUrl:function(e){var t=this;this.loading=!0;var i="?fullfilename=";-1!==e.indexOf(i)&&(e=e.split(i)[0]);var n="".concat(e,"?c=").concat(o["a"].defaults.headers.common[l["b"]]);n=n.replace(/\/\//g,"/");var a=0,r=this.name||this.$route.query.name,u=r?r.split("."):[],d="";d=u.length>0?u[u.length-1]:"",["xlsx","xls","xlt","xltx"].includes(d)||["doc","docx","dot","dotx"].includes(d)?a=0:"pdf"===d?a=20:["ppt","pptx","pot","potx"].includes(d)||["txt","text","rtf"].includes(d)||["html"].includes(d)?a=0:["jpg","png","jpeg","bmp","ico","gif"].includes(d)?a=42:Object(c["y"])(d)&&(a=19),Object(s["e"])({convertType:a,fileUrl:n,showFooter:0}).then((function(e){var i=e.data||{};t.checkUrl(i.viewUrl),t.loading=!1})).catch((function(e){if(0===e.errorcode){var i=e.data||{};t.checkUrl(i.viewUrl)}t.loading=!1}))},checkUrl:function(e){"component"===this.showType?this.iframePath=e:location.href=e},download:function(){Object(c["e"])({path:this.path||this.$route.query.path,name:this.name||this.$route.query.name})},isAudios:function(e){if(e){var t=e.toLowerCase();return t.includes("mp3")||t.includes("wav")}return!1},isVideo:function(e){if(e){var t=e.toLowerCase();return t.includes("mp4")}return!1},getAudiosProps:function(e){return{fileRequest:r["h"],fileParams:this.path}}}},p=h,f=(i("56d3"),i("2877")),v=Object(f["a"])(p,n,a,!1,null,"6b46c9ee",null);t["default"]=v.exports},cb89:function(e,t,i){e.exports=i.p+"static/img/unknown.ea5ceddb.png"},e694:function(e,t,i){}}]);